# 25. Autonomous Sessions in Hub

Date: 2026-02-01
Status: Accepted

## Context
The Gemini CLI supports autonomous operation by passing a task directly to the command (e.g., `gemini chat "do something"`). Users want to trigger this behavior from the Gemini Hub without manually opening a terminal. This is referred to as "Autonomous Mode" or "Bot Mode".

## Decision
We will extend the Gemini Hub launch API and UI to support an optional `task` parameter.

### 1. API Extension
The `/api/launch` endpoint now accepts an optional `task` string in the JSON body.

### 2. Toolbox Command Construction
If a `task` is provided, the Hub appends it to the `gemini-toolbox` command using the `--` delimiter to ensure arguments are passed correctly to the underlying container entrypoint.

Example command generated by Hub:
```bash
gemini-toolbox --remote --detached -- "the task"
```

### 3. UI Integration
A new "Initial Task" textarea is added to the "Config" step of the Launch Wizard. If filled, the Hub launches the session with the provided task.

## Consequences

### Positive
*   **Convenience:** Users can launch bots directly from the web dashboard.
*   **Integration:** Leveraging the existing `gemini-toolbox` argument passing ensures consistency between CLI and Hub.

### Negative
*   **Safety:** Autonomous agents can modify files. Launching them on a primary workspace without a sandbox is risky.
*   **Mitigation:** This feature is conceptually paired with "Ephemeral Workspaces" (ADR-0012). Users are encouraged to define `GEMINI_WORKTREE_ROOT` to launch bots in safe, isolated clones.
